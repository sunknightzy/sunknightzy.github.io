{"title":"Docker 搭建 zookeeper 单机","uid":"a66406382ee33156e956b3755bbd8fe4","slug":"Docker-搭建-zookeeper-单机","date":"2018-04-04T04:39:16.000Z","updated":"2021-05-25T05:01:30.000Z","comments":true,"path":"api/articles/Docker-搭建-zookeeper-单机.json","keywords":null,"cover":"https://raw.githubusercontent.com/sunknightzy/picsee/main/Picsee/abnerworks.Typora/1*M6q8tmdf3a51UdxY5izllgEZwO6c-LVZygL.png","content":"<h2 id=\"创建宿主机目录\"><a href=\"#创建宿主机目录\" class=\"headerlink\" title=\"创建宿主机目录\"></a><strong>创建宿主机目录</strong></h2><div class=\"language-bash\"><button title=\"Copy code\" class=\"copy\"></button><span class=\"lang\">bash</span><pre class=\"shiki material-theme\" style=\"background-color: #263238\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #FFCB6B\">mkdir</span><span style=\"color: #EEFFFF\"> </span><span style=\"color: #C3E88D\">-p</span><span style=\"color: #EEFFFF\"> </span><span style=\"color: #C3E88D\">/Users/oak/docker/zookeeper/conf</span><span style=\"color: #EEFFFF\"> </span><span style=\"color: #C3E88D\">/Users/oak/docker/zookeeper/data</span><span style=\"color: #EEFFFF\"> </span><span style=\"color: #C3E88D\">/Users/oak/docker/zookeeper/log</span></span></code></pre></div><h2 id=\"配置\"><a href=\"#配置\" class=\"headerlink\" title=\"配置\"></a><strong>配置</strong></h2><p>在 conf 目录下新建 zoo.cfg 文件，内容如下</p>\n<div class=\"language-bash\"><button title=\"Copy code\" class=\"copy\"></button><span class=\"lang\">bash</span><pre class=\"shiki material-theme\" style=\"background-color: #263238\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #EEFFFF\">clientPort</span><span style=\"color: #89DDFF\">=</span><span style=\"color: #F78C6C\">2181</span></span>\n<span class=\"line\"><span style=\"color: #EEFFFF\">dataDir</span><span style=\"color: #89DDFF\">=</span><span style=\"color: #C3E88D\">/data</span></span>\n<span class=\"line\"><span style=\"color: #EEFFFF\">dataLogDir</span><span style=\"color: #89DDFF\">=</span><span style=\"color: #C3E88D\">/datalog</span></span>\n<span class=\"line\"><span style=\"color: #EEFFFF\">tickTime</span><span style=\"color: #89DDFF\">=</span><span style=\"color: #F78C6C\">2000</span></span>\n<span class=\"line\"><span style=\"color: #EEFFFF\">initLimit</span><span style=\"color: #89DDFF\">=</span><span style=\"color: #F78C6C\">5</span></span>\n<span class=\"line\"><span style=\"color: #EEFFFF\">syncLimit</span><span style=\"color: #89DDFF\">=</span><span style=\"color: #F78C6C\">2</span></span>\n<span class=\"line\"><span style=\"color: #EEFFFF\">maxClientCnxns</span><span style=\"color: #89DDFF\">=</span><span style=\"color: #F78C6C\">60</span></span></code></pre></div><h2 id=\"启动命令\"><a href=\"#启动命令\" class=\"headerlink\" title=\"启动命令\"></a><strong>启动命令</strong></h2><p>创建好宿主机的文件夹和文件，执行下面的命令</p>\n<div class=\"language-bash\"><button title=\"Copy code\" class=\"copy\"></button><span class=\"lang\">bash</span><pre class=\"shiki material-theme\" style=\"background-color: #263238\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #FFCB6B\">docker</span><span style=\"color: #EEFFFF\"> </span><span style=\"color: #C3E88D\">run</span><span style=\"color: #EEFFFF\"> </span><span style=\"color: #C3E88D\">--name</span><span style=\"color: #EEFFFF\"> </span><span style=\"color: #C3E88D\">zookeeper</span><span style=\"color: #EEFFFF\"> \\</span></span>\n<span class=\"line\"><span style=\"color: #EEFFFF\">--restart=always \\</span></span>\n<span class=\"line\"><span style=\"color: #EEFFFF\">-p </span><span style=\"color: #F78C6C\">2181</span><span style=\"color: #C3E88D\">:2181</span><span style=\"color: #EEFFFF\"> </span><span style=\"color: #C3E88D\">-p</span><span style=\"color: #EEFFFF\"> </span><span style=\"color: #F78C6C\">2888</span><span style=\"color: #C3E88D\">:2888</span><span style=\"color: #EEFFFF\"> </span><span style=\"color: #C3E88D\">-p</span><span style=\"color: #EEFFFF\"> </span><span style=\"color: #F78C6C\">3888</span><span style=\"color: #C3E88D\">:3888</span><span style=\"color: #EEFFFF\"> \\</span></span>\n<span class=\"line\"><span style=\"color: #EEFFFF\">-v </span><span style=\"color: #C3E88D\">/Users/oak/docker/zookeeper/data:/data</span><span style=\"color: #EEFFFF\"> \\</span></span>\n<span class=\"line\"><span style=\"color: #EEFFFF\">-v </span><span style=\"color: #C3E88D\">/Users/oak/docker/zookeeper/log:/datalog</span><span style=\"color: #EEFFFF\"> \\</span></span>\n<span class=\"line\"><span style=\"color: #EEFFFF\">-v </span><span style=\"color: #C3E88D\">/Users/oak/docker/zookeeper/conf/zoo.cfg:/conf/zoo.cfg</span><span style=\"color: #EEFFFF\"> \\</span></span>\n<span class=\"line\"><span style=\"color: #EEFFFF\">--privileged=true \\</span></span>\n<span class=\"line\"><span style=\"color: #EEFFFF\">-d </span><span style=\"color: #C3E88D\">zookeeper:3.4.14</span></span></code></pre></div>","feature":true,"text":"💡 全文聚焦 Docker 环境下的 Zookeeper 单机部署，包含目录结构、配置模板和容器启动命令","permalink":"/post/Docker-搭建-zookeeper-单机","photos":[],"count_time":{"symbolsCount":566,"symbolsTime":"1 mins."},"categories":[{"name":"Docker","slug":"Docker","count":6,"path":"api/categories/Docker.json"},{"name":"Zookeeper","slug":"Docker/Zookeeper","count":1,"path":"api/categories/Docker/Zookeeper.json"}],"tags":[{"name":"Docker","slug":"Docker","count":6,"path":"api/tags/Docker.json"},{"name":"Zookeeper","slug":"Zookeeper","count":2,"path":"api/tags/Zookeeper.json"}],"toc":"<ol class=\"toc\"><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E5%88%9B%E5%BB%BA%E5%AE%BF%E4%B8%BB%E6%9C%BA%E7%9B%AE%E5%BD%95\"><span class=\"toc-text\">创建宿主机目录</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E9%85%8D%E7%BD%AE\"><span class=\"toc-text\">配置</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E5%90%AF%E5%8A%A8%E5%91%BD%E4%BB%A4\"><span class=\"toc-text\">启动命令</span></a></li></ol>","author":{"name":"GlassCat","slug":"blog-author","avatar":"/img/avatar.png","link":"/","description":"《论语·为政》<br/>吾尝终日不食，终夜不寝，以思无益，不如学也<br/>--孔子--","socials":{"github":"https://github.com/sunknightzy","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"https://www.zhihu.com/people/someaware","csdn":"","juejin":"","customs":{"mail":{"icon":"/svg/mail.svg","link":"mailto:593739859@qq.com"}}}},"mapped":true,"hidden":false,"prev_post":{"title":"Docker搭建Kibana+ElasticSearch","uid":"61eea4bbe78b91308bbd442a5070c4bd","slug":"Docker搭建Kibana-ElasticSearch","date":"2018-04-04T05:19:11.000Z","updated":"2019-05-04T03:19:46.000Z","comments":true,"path":"api/articles/Docker搭建Kibana-ElasticSearch.json","keywords":null,"cover":"https://raw.githubusercontent.com/sunknightzy/picsee/main/Picsee/abnerworks.Typora/maxresdefault-ok9xVF.jpeg","text":"💡 全文聚焦 Docker 环境下 Kibana + ElasticSearch 单机部署，包含目录结构、配置模板和容器启动命令","permalink":"/post/Docker搭建Kibana-ElasticSearch","photos":[],"count_time":{"symbolsCount":"4.4k","symbolsTime":"4 mins."},"categories":[{"name":"Docker","slug":"Docker","count":6,"path":"api/categories/Docker.json"},{"name":"ElasticSearch","slug":"Docker/ElasticSearch","count":1,"path":"api/categories/Docker/ElasticSearch.json"}],"tags":[{"name":"Docker","slug":"Docker","count":6,"path":"api/tags/Docker.json"},{"name":"ElasticSearch","slug":"ElasticSearch","count":1,"path":"api/tags/ElasticSearch.json"},{"name":"Kibana","slug":"Kibana","count":1,"path":"api/tags/Kibana.json"}],"author":{"name":"GlassCat","slug":"blog-author","avatar":"/img/avatar.png","link":"/","description":"《论语·为政》<br/>吾尝终日不食，终夜不寝，以思无益，不如学也<br/>--孔子--","socials":{"github":"https://github.com/sunknightzy","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"https://www.zhihu.com/people/someaware","csdn":"","juejin":"","customs":{"mail":{"icon":"/svg/mail.svg","link":"mailto:593739859@qq.com"}}}},"feature":true},"next_post":{"title":"Docker 搭建 Redis","uid":"81e28fe4358465e9bc71f0fe54e70460","slug":"Docker-搭建-Redis","date":"2018-04-04T03:51:36.000Z","updated":"2023-04-05T12:49:36.000Z","comments":true,"path":"api/articles/Docker-搭建-Redis.json","keywords":null,"cover":"https://raw.githubusercontent.com/sunknightzy/picsee/main/Picsee/abnerworks.Typora/redis-docker-official-image-600pxaCH8iF-ZRdDOp.png","text":"💡 全文聚焦 Docker 环境下的 Redis 单机部署，包含目录结构、配置模板和容器启动命令","permalink":"/post/Docker-搭建-Redis","photos":[],"count_time":{"symbolsCount":"64k","symbolsTime":"58 mins."},"categories":[{"name":"Docker","slug":"Docker","count":6,"path":"api/categories/Docker.json"},{"name":"Redis","slug":"Docker/Redis","count":1,"path":"api/categories/Docker/Redis.json"}],"tags":[{"name":"Docker","slug":"Docker","count":6,"path":"api/tags/Docker.json"},{"name":"Redis","slug":"Redis","count":2,"path":"api/tags/Redis.json"}],"author":{"name":"GlassCat","slug":"blog-author","avatar":"/img/avatar.png","link":"/","description":"《论语·为政》<br/>吾尝终日不食，终夜不寝，以思无益，不如学也<br/>--孔子--","socials":{"github":"https://github.com/sunknightzy","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"https://www.zhihu.com/people/someaware","csdn":"","juejin":"","customs":{"mail":{"icon":"/svg/mail.svg","link":"mailto:593739859@qq.com"}}}},"feature":true}}